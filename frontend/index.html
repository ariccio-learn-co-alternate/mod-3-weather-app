<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0" />
    <script>
      // Uggh, this has to be inline else the map isn't working.
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 39.8097343, lng: -98.5556199 },
          zoom: 3.8,
          gestureHandling: "none",
          zoomControl: false,
          streetViewControl: false,
          fullscreenControl: false,
          mapTypeControl: false
        });
        const mapElem = document.getElementById("map");
        mapElem.style.height = "500px";
        google.maps.event.addListener(map, "click", function(event) {
          console.log(
            "Latitude: " +
              event.latLng.lat() +
              " " +
              ", longitude: " +
              event.latLng.lng()
          );
          mapClick(event);
        });
      }
    </script>
    <script src="scripts/index.js" defer async></script>
    <script src="scripts/graph.js" defer async></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"
      defer
    ></script>
    <!-- Key has to be publicly visible, it's a browser key -->
    <!-- TODO: if we actually deploy it, restrict to referrers in google api console. -->
    <script
      src="https://www.google.com/maps/api/js?key=AIzaSyC9yXOwvjtzat-Us9Jwx9K-x7bFFPK_1Dw&callback=initMap"
      type="text/javascript"
      async
      defer
    ></script>
    <link rel="stylesheet" href="styles/bootstrap.min.css" />
    <link rel="stylesheet" href="styles/bootstrap-grid.min.css" />
    <link rel="stylesheet" href="styles/index.css" />
  </head>
  <body>
    <h2>Click a location:</h2>
    <div id="map-wrapper">
      <div id="map" width="100%" height="100px"></div>
    </div>

    <div class="wrapper" id="lower-half-wrapper">
      <div id="station-data"></div>

      <form
        class="input-box"
        action="#"
        method="post"
        hidden
        id="year-input-box-form"
      >
        <h3>Select a year</h3>
        <input
          type="number"
          name="year"
          min="1950"
          max="2000"
          id="year-field-id"
        />
        <input type="submit" name="" value="lookup year" />
      </form>
    </div>


        <div id="monthly-data-table-wrapper"></div>
        <div><canvas id="graph-canvas"></canvas></div>

    </div>
    <!-- <iframe width="600" height="450" frameborder="0" style="border:0" src="" allowfullscreen></iframe> -->
  </body>
</html>
